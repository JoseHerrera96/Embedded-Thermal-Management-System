; PlatformIO Project Configuration File
;
;   Build options: build flags, source filter
;   Upload options: custom upload port, speed and extra flags
;   Library options: dependencies, extra library storages
;   Advanced options: extra scripting
;
; Please visit documentation for the other options and examples
; https://docs.platformio.org/page/projectconf.html

[platformio]
default_envs = simulation

; ============================================================================
; PC Simulation Environment (No Hardware)
; ============================================================================
[env:simulation]
platform = native
build_flags = 
    -DSIMULATION
    -std=c++11
    -I include
build_src_filter = 
    +<*>
    +<../include/*>

; ============================================================================
; Arduino Uno/Nano (ATmega328P)
; ============================================================================
[env:uno]
platform = atmelavr
board = uno
framework = arduino
build_flags = 
    -DARDUINO
    -std=c++11
    -I include
monitor_speed = 115200
lib_deps = 

; ============================================================================
; Arduino Mega 2560 (ATmega2560)
; ============================================================================
[env:mega]
platform = atmelavr
board = megaatmega2560
framework = arduino
build_flags = 
    -DARDUINO
    -std=c++11
    -I include
monitor_speed = 115200

; ============================================================================
; STM32 Nucleo-F401RE (ARM Cortex-M4)
; ============================================================================
[env:nucleo_f401re]
platform = ststm32
board = nucleo_f401re
framework = arduino
build_flags = 
    -DARDUINO
    -std=c++11
    -I include
    -DHAL_ADC_MODULE_ENABLED
monitor_speed = 115200

; ============================================================================
; ESP32 DevKit (Xtensa LX6)
; ============================================================================
[env:esp32]
platform = espressif32
board = esp32dev
framework = arduino
build_flags = 
    -DARDUINO
    -std=c++11
    -I include
monitor_speed = 115200
